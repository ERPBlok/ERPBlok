<templates>
    <!--
        It is the templating for client

        The client templating come from
        http://ejohn.org/blog/javascript-micro-templating/

    -->
    <template id="ERPBlokAction">
        <div id="action-<%=id%>" class="row"/>
    </template>
    <template id="ERPBlokBreadCrumb">
        <div id="<%=id%>" class="current"><%=label%></div>
    </template>
    <template id="ERPBlokDialog">
        <div id="modal<%=id%>" class="reveal-modal" data-reveal>
            <h2 class="dialog-title"></h2>
            <div class="dialog-content"></div>
        </div>
    </template>
    <template id="ERPBlokDialogClose">
        <a class="close-reveal-modal" aria-label="Close">&#215;</a>
    </template>
    <template id="ERPBlokViewManager">
        <div class="row view-manager">
            <div class="columns large-7">
                <ul class="button-group radius view-buttons"></ul>
            </div>
            <div class="columns large-3 medium-7">
            </div>
            <div class="columns large-2 medium-5">
                <nav class="view-selector">
                    <ul/>
                </nav>
            </div>
        </div>
    </template>
    <template id="ERPBlokViewManagerButton">
        <li>
            <a class="view-button button small <%=visibility%>"
               data-function="<%=fnct%>"><%=label%></a>
        </li>
    </template>
    <template id="ERPBlokViewManagerGroup">
        <li>
            <button data-dropdown="<%=id%>" aria-controls="<%=id%>"
                    aria-expanded="false"
                    class="button dropdown small <%=visibility%>"><%=label%></button>
            <br>
            <ul id="<%=id%>" data-dropdown-content class="f-dropdown"
                aria-hidden="true">
                <% for ( var i = 0; i < buttons.length; i++ ) { %>
                    <li>
                        <a class="view-button <%=buttons[i].visibility%>"
                           data-function="<%=buttons[i].fnct%>"><%=buttons[i].label%></a>
                    </li>
                <% } %>
            </ul>
        </li>
    </template>
    <template id="ERPBlokView">
        <div id="<%=id%>" class="row view <%=class_name%>"/>
    </template>
    <template id="ERPBlokViewSelector">
        <li id="<%=id%>"
            title="<%=title_selector%>"
            class="item <%= (selectable ? '' : 'hide')%>">
            <a>
                <i class="<%=icon_selector%> menu-img"></i>
            </a>
        </li>
    </template>
    <template id="ERPBlokViewList" extend="ERPBlokView">
        <xpath action="insert" expression="./div">
            <table role="grid">
                <thead>
                    <% for ( var i = 0; i < headers.length; i++ ) { %>
                        <tr>
                            <% if (i == 0 && checkbox) { %>
                                <th width="10px"
                                    rowspan="<%=headers.length%>">
                                    <input type="checkbox" id="all_checkbox"></input>
                                </th>
                            <% } %>
                            <% for ( var j = 0; j < headers[i].length; j++ ) { %>
                                <th id="<%=headers[i][j].id%>"
                                    colspan="<%=headers[i][j].colspan%>"
                                    rowspan="<%=headers[i][j].rowspan%>"
                                ><%=headers[i][j].label%></th>
                            <% } %>
                        </tr>
                    <% } %>
                </thead>
                <tbody>
                </tbody>
            </table>
        </xpath>
    </template>
    <template id="ERPBlokViewListLine">
        <tr class="view-list-line">
            <% if (checkbox) { %>
                <td>
                    <input type="checkbox" id="line_checkbox"></input>
                </td>
            <% } %>
            <% for ( var i = 0; i < fields.length; i++) { %>
                <td id="<%=fields[i].id%>" class="selectable"/>
            <% } %>
        </tr>
    </template>
    <template id="ERPBlokViewField">
        <% if (readonly) { %>
            <span><%=value%></span>
        <% } else { %>
            <input id="<%=id%>" name="<%=id%>" type="<%=type%>"/>
        <% } %>
    </template>
    <template id="ERPBlokViewOne2Many">
        <% if (value) { %>
            <% for (var i in value) {%>
                <tr><td><%=value[i][1]%></td></tr>
            <% } %>
        <% } else {%>
            <span/>
        <% } %>
    </template>
</templates>
